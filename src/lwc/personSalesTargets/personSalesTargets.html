<template>
    <lightning-card 
        variant="Narrow"  
        title="Person Sales Targets" 
        icon-name="standard:sales_value"
    >
        <div slot="actions">
            <lightning-combobox
                name="startyear"
                label="Years"
                value={selectedYear}
                placeholder="Select years range"
                options={availableYears}
                onchange={handleSelectYear} 
            ></lightning-combobox>
        </div>
    </lightning-card>

    <template if:true={tableData}>
        <div style="height: 90%; margin: 0 0 40px 0">
            <lightning-datatable 
                key-field="userId"
                data={tableData}
                columns={columns}
                hide-checkbox-column
                onsave={handleSave}
            ></lightning-datatable>
        </div>
    </template>
    <tamplate if:false={isReadyData}>
        <lightning-layout-item size="12" padding="around-small">
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
        </lightning-layout-item>
    </tamplate>
</template>