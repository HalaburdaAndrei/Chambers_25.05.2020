<aura:component description="RankingData" implements="force:hasRecordId,flexipage:availableForRecordHome" controller="RankingDataController" access="global">

    <aura:attribute name="items" type="List" default="[]" />
    <aura:attribute name="items1" type="List" default="[]" />

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>


        <table class="slds-table slds-table_cell-buffer slds-no-row-hover slds-table_bordered">
            <thead>
            <tr class="slds-line-height_reset">

                <th class="" scope="col">
                    <div class="slds-truncate" title="PracticeArea">PracticeArea</div>
                </th>
                <th class="" scope="col">
                    <div class="slds-truncate" title="Location">Location</div>
                </th>
                <th class="" scope="col">
                    <div class="slds-truncate" title="Type">Type</div>
                </th>
                <th class="" scope="col">
                    <div class="slds-truncate" title="Location of Expertise">Location of Expertise</div>
                </th>
                <th class="" scope="col">
                    <div class="slds-truncate" title="Branch">Branch</div>
                </th>
                <th class="" scope="col">
                    <div class="slds-truncate" title="Head Office">Head Office</div>
                </th>
                <aura:iteration items="{!v.items1}" var="pub" indexVar="rowIndex">
                <th class="" scope="col">
                    <div class="slds-truncate" title="2020">{!pub}</div>
                </th>
                </aura:iteration>

            </tr>
            </thead>
            <tbody>
            <aura:iteration items="{!v.items}" var="publications" indexVar="rowIndex">
                <tr class="slds-line-height_reset slds-is-selected">
                    <td data-index="{!rowIndex}" onclick="{!c.toggle}" >
                        <lightning:buttonIcon value="{!rowIndex}" iconName="{!publications.expanded?'utility:chevrondown':'utility:chevronright'}" />
                        {!publications.publication}
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
                </tr>
                <aura:if isTrue="{!publications.expanded}">

                <aura:iteration items="{!publications.rankings}" var="ranking">
            <tr class="slds-line-height_reset">
                <th  scope="row">
                    <div class="slds-truncate" title="Cloudhub">
                        <a href="javascript:void(0);" tabindex="-1">{!ranking.practiceArea}</a>
                    </div>
                </th>
                <td >
                    <div class="slds-truncate" title="Cloudhub">{!ranking.location}</div>
                </td>
                <td >
                    <div class="slds-truncate" title="4/14/2015">{!ranking.type}</div>
                </td>
                <td >
                    <div class="slds-truncate" title="Prospecting">{!ranking.locationOfExpertise}</div>
                </td>
                <td >
                    <div class="slds-truncate" title="20%">{!ranking.branch}</div>
                </td>
                <td >
                    <div class="slds-truncate" title="$25k">{!rankingheadOffice}</div>
                </td>
                <td >
                    <div class="slds-truncate" title="jrogers@cloudhub.com">
                        {!ranking.rank}
                    </div>
                </td>
                <td >
                    <div class="slds-truncate" title="jrogers@cloudhub.com">
                        {!ranking.year}
                    </div>
                </td>
                <td >
                    <div class="slds-truncate" title="jrogers@cloudhub.com">
                        {!ranking.recordType}
                    </div>
                </td>
                <td >
                    <div class="slds-truncate" title="jrogers@cloudhub.com">
                        {!ranking.contactName}
                    </div>
                </td>
                    <aura:iteration items="{!ranking.rankYears}" var="r">
<!--                        <tr class="slds-line-height_reset">-->
                            <td >
                                <div class="slds-truncate" title="Cloudhub">{!r.rankingYear}</div>
                            </td>
<!--                        </tr>-->
                    </aura:iteration>
            </tr>

                </aura:iteration>
                </aura:if>
            </aura:iteration>
            </tbody>
        </table>

</aura:component>